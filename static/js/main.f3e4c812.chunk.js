(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{185:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(13),r=a.n(s),o=(a(80),a(81),a(14)),l=a(15),c=a(18),d=a(16),m=a(17),u=(a(82),a(34)),h=a(69),g=a(26),p=(a(83),a(70)),f=a.n(p),v=a(71),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){console.log("RedditList mounted");var e="https://www.reddit.com/r/all/top.json?limit=".concat(50);fetch(e).then(function(e){return e.json()}).then(function(e){console.log("chilidren",e.data.children);var t=e.data.children,n=[],i=[];t.forEach(function(e){a.state.hiddenList.indexOf(e.data.id)>-1&&(e.data.hidden=!0,n.push(e.data.id)),a.state.visitedList.indexOf(e.data.id)>-1&&(e.data.visited=!0,i.push(e.data.id))}),a.setState({isLoaded:!0,redditList:t,hiddenList:n,visitedList:i})},function(e){a.setState({isLoaded:!0,error:e})})},a.onItemClick=function(e,t){e.data.visited=!0;var n=a.state.visitedList;a.isState("visitedList",e.data.id)||(n.push(e.data.id),a.perist.set("visitedList",n),a.setState({visitedList:n})),t.preventDefault(),a.forceUpdate(),a.props.onItemClick(e)},a.onDismiss=function(e,t){e.data.hidden=!0;var n=a.state,i=n.hiddenList,s=n.redditList;i.push(e.data.id),a.perist.set("hiddenList",i),a.setState({hiddenList:i,redditList:s}),t.preventDefault(),console.log("item dismiss called",e)},a.isState=function(e,t){return a.state[e].indexOf(t)>-1},a.onDismissAll=function(e){console.log("dismissAll called");var t=a.state.hiddenList;e.forEach(function(e){var a=e.data.id;e.data.hidden=!0,-1===t.indexOf(a)&&t.push(a)}),a.perist.set("hiddenList",t),a.setState({redditList:e,hiddenList:t}),a.forceUpdate()},a.isShown=function(){return a.redditList.length>0&&a.hiddenList.length<49},a.isHidden=function(){return a.redditList.length>0&&a.hiddenList.length>1},a.onItemClick=a.onItemClick.bind(Object(g.a)(Object(g.a)(a))),a.perist={set:function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(a){console.error("Error saving to localStorage",a)}},get:function(e){try{return JSON.parse(localStorage.getItem(e))}catch(t){return console.error("Error getting data from localStorage",t),null}},clear:function(){localStorage.clear()}},a.state={hasError:!1,error:null,isLoaded:!1,redditList:[],hiddenList:a.perist.get("hiddenList")||[],visitedList:a.perist.get("visitedList")||[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onRestoreAll",value:function(){console.log("restoreAll called");var e=this.state.redditList;e.forEach(function(e){e.data.hidden=!1}),this.setState({redditList:e,hiddenList:[],visitedList:[]}),this.perist.set("visitedList",[]),this.perist.set("hiddenList",[]),this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.isLoaded,s=t.redditList;return a?i.a.createElement("div",null,"Error: ",a.message):n?i.a.createElement("div",{id:"item-list"},i.a.createElement("h1",{className:"text-center"},"Reddit Posts"),i.a.createElement("ul",{className:"list-unstyled"},s.map(function(t){return i.a.createElement("div",{key:t.data.title},i.a.createElement(v.CSSTransition,{in:!t.data.hidden,timeout:500,classNames:"item",unmountOnExit:!0},i.a.createElement("li",{className:"nav-item"},i.a.createElement("div",{className:"row cursor-pointer",onClick:function(a){return e.onItemClick(t,a)}},i.a.createElement("div",{className:"col-md-10"},i.a.createElement("span",{className:"bluebullets "+(t.data.visited?"visited":"")},"\u2022"),i.a.createElement("span",{className:"cursor-pointer"},t.data.author," ",i.a.createElement(f.a,{date:1e3*t.data.created})))),i.a.createElement("div",{className:"row align-items-center cursor-pointer",onClick:function(a){return e.onItemClick(t,a)}},i.a.createElement("div",{className:"col-md-5 col-sm-5 col-5"},i.a.createElement("span",{className:"cursor-pointer"},i.a.createElement("img",{src:t.data.thumbnail,alt:"item.data.title"}))),i.a.createElement("div",{className:"col-md-5 col-sm-5 col-5 cursor-pointer"},i.a.createElement("span",{className:"cursor-pointer"},t.data.title)),i.a.createElement("div",{className:"col-md-1 col-sm-1 col-1"},i.a.createElement("div",{className:"d-table"},i.a.createElement("span",{className:"d-table-cell align-middle"},i.a.createElement("i",{className:"material-icons"},"chevron_right"))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-5 col-5"},i.a.createElement("a",{href:"#home",className:"cursor-pointer dismiss-click",onClick:function(a){return e.onDismiss(t,a)}},i.a.createElement("i",{className:"material-icons nothing-rhymes-with-orange"},"highlight_off"),"Dismiss Post ")),i.a.createElement("div",{className:"col-md-5 col-5"},i.a.createElement("span",{className:"nothing-rhymes-with-orange d-inline-block pull-right ml-1"},t.data.num_comments,"\xa0 comments"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-10 offset-md-1 bdr-btm mt-2"})))))})),this.isShown&&i.a.createElement("a",{href:"#home",onClick:function(t){return e.onDismissAll(s,t)},className:"cursor-pointer nothing-rhymes-with-orange"},i.a.createElement("i",{className:"material-icons nothing-rhymes-with-orange "},"highlight_off"),"Dismiss All "),this.isHidden&&i.a.createElement("a",{href:"#home",onClick:function(t){return e.onRestoreAll(t)},className:"cursor-pointer nothing-rhymes-with-orange "},i.a.createElement("i",{className:"material-icons nothing-rhymes-with-orange "}," highlight_off")," Restore All ")):i.a.createElement("div",null,"Loading...")}}]),t}(i.a.Component),w=(a(94),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentWillMount=function(){console.log("RedditDesc will mount")},a.componentDidMount=function(){console.log("RedditDesc mounted")},a.componentWillReceiveProps=function(e){console.log("RedditDesc will receive props",e)},a.componentWillUpdate=function(e,t){console.log("RedditDesc will update",e,t)},a.componentDidUpdate=function(){console.log("RedditDesc did update")},a.componentWillUnmount=function(){console.log("RedditDesc will unmount")},a.state={hasError:!1,error:null,isLoaded:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.error,t=this.props.item;return console.log(this.state,"state passed to desc"),e?i.a.createElement("div",null,"Error: ",e.message):t?i.a.createElement("div",{className:"container"},t.data.id,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"offset-md-1 col-md-10"},i.a.createElement("h1",null,t.data.author))),i.a.createElement("div",{className:"row mt-1"},i.a.createElement("div",{className:"offset-md-3 col-md-6"},i.a.createElement("img",{src:t.data.thumbnail,alt:t.data.title}))),i.a.createElement("div",{className:"row mt-1"},i.a.createElement("div",{className:"offset-md-1 col-md-10"},i.a.createElement("h5",null,t.data.title)))):i.a.createElement("div",null,"Loading...")}}]),t}(i.a.Component)),L=a(19),N=a.n(L),b=a(41),O=a(74),S=a.n(O),k=a(72),j=a.n(k),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={open:!0},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.toggleIfHandset=function(){console.log("toggle handset ccalled"),window.innerWidth<=500&&a.setState({open:!a.state.open})},a.toggle=function(){console.log("toggle ccalled"),a.setState({open:!a.state.open})},a.onItemClick=function(e){console.log(e,"itemclick in parent called"),a.setState({item:e})},a.state={open:!0,hasError:!1,mobileOpen:!1,item:{data:{author:"",title:""}}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.open;return this.state.hasError?i.a.createElement("h1",null,"Something went wrong."):i.a.createElement("section",null,i.a.createElement("div",{className:e.root},i.a.createElement(j.a,null),i.a.createElement(S.a,{className:e.drawer,variant:"persistent",anchor:"left",open:t,classes:{paper:e.drawerPaper},onClick:this.toggleIfHandset},i.a.createElement(E,{onItemClick:this.onItemClick})),i.a.createElement("main",{className:N()(e.content,Object(u.a)({},e.contentShift,t)),onClick:this.toggle},i.a.createElement("div",{className:e.drawerHeader}),i.a.createElement(w,{item:this.state.item}))))}}]),t}(i.a.Component),C=Object(b.withStyles)(function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(480,"px)"),marginLeft:480,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},drawer:{width:480,flexShrink:0},drawerPaper:{width:480},drawerHeader:Object(h.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:3*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-480},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},{withTheme:!0})(y),D=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(C,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},75:function(e,t,a){e.exports=a(185)},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},94:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.f3e4c812.chunk.js.map